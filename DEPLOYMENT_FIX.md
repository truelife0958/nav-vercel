# ğŸ”§ éƒ¨ç½²ä¿®å¤è¯´æ˜

## ğŸ“Š å½“å‰çŠ¶æ€

### âœ… å·²å®Œæˆ
- [x] å®Œæ•´çš„ Vercel Postgres è¿ç§»
- [x] æ‰€æœ‰ API è·¯ç”±é‡æ„
- [x] é”™è¯¯å¤„ç†å’Œé™çº§æ–¹æ¡ˆ
- [x] Serverless Functions é™åˆ¶ä¿®å¤

### â³ å¾…æ¨é€
æœ¬åœ°æœ‰ 1 ä¸ªæäº¤å¾…æ¨é€ï¼š
```
efc076e - fix: ä½¿ç”¨ includeFiles åŒ…å«ä¾èµ–æ–‡ä»¶ï¼ŒåŒæ—¶é™åˆ¶åªåˆ›å»ºä¸€ä¸ª Function
```

---

## ğŸš€ æ‰‹åŠ¨æ¨é€æ­¥éª¤

ç”±äºç½‘ç»œè¿æ¥é—®é¢˜ï¼Œè¯·æ‰‹åŠ¨æ‰§è¡Œä»¥ä¸‹æ“ä½œä¹‹ä¸€ï¼š

### æ–¹å¼ 1ï¼šä½¿ç”¨ GitHub Desktopï¼ˆæ¨èï¼‰
1. æ‰“å¼€ GitHub Desktop
2. é€‰æ‹© `nav-vercel` ä»“åº“
3. ç‚¹å‡» **Push origin** æŒ‰é’®

### æ–¹å¼ 2ï¼šå‘½ä»¤è¡Œé‡è¯•
```bash
git push origin main
```

### æ–¹å¼ 3ï¼šä½¿ç”¨ä»£ç†
```bash
# è®¾ç½®ä»£ç†ï¼ˆä¿®æ”¹ç«¯å£ä¸ºä½ çš„ä»£ç†ç«¯å£ï¼‰
git config --global http.proxy http://127.0.0.1:7890
git config --global https.proxy http://127.0.0.1:7890

# æ¨é€
git push origin main

# æ¨é€å®Œæˆåå–æ¶ˆä»£ç†
git config --global --unset http.proxy
git config --global --unset https.proxy
```

---

## ğŸ¯ æœ¬æ¬¡ä¿®å¤å†…å®¹

### é—®é¢˜
1. **Serverless Functions è¶…è¿‡ 12 ä¸ªé™åˆ¶** - Vercel Hobby è®¡åˆ’é™åˆ¶
2. **æ¨¡å—æ‰¾ä¸åˆ°é”™è¯¯** - `.vercelignore` é…ç½®é—®é¢˜

### è§£å†³æ–¹æ¡ˆ

#### 1. `vercel.json` é…ç½®
```json
{
  "functions": {
    "api/index.js": {
      "maxDuration": 10,
      "memory": 1024,
      "includeFiles": "api/**"
    }
  }
}
```

**è¯´æ˜**ï¼š
- åªä¸º `api/index.js` åˆ›å»º Serverless Function
- ä½¿ç”¨ `includeFiles` åŒ…å«æ‰€æœ‰ `api/**` æ–‡ä»¶ä½œä¸ºä¾èµ–
- è¿™æ ·åªåˆ›å»º 1 ä¸ª Functionï¼Œä¸ä¼šè¶…è¿‡é™åˆ¶

#### 2. `.vercelignore` é…ç½®
```
# åªæ’é™¤çœŸæ­£ä¸éœ€è¦çš„æ–‡ä»¶
api/tests/**
api/database/**
*.log
*.tmp
```

**è¯´æ˜**ï¼š
- ä¸æ’é™¤ `api/routes/`ã€`api/config.js`ã€`api/db.js` ç­‰
- è¿™äº›æ–‡ä»¶ä¼šè¢« `includeFiles` åŒ…å«ï¼Œä½œä¸ºä¾èµ–
- ä½†ä¸ä¼šä¸ºå®ƒä»¬åˆ›å»ºç‹¬ç«‹çš„ Functions

---

## ğŸ‰ é¢„æœŸç»“æœ

æ¨é€å¹¶éƒ¨ç½²æˆåŠŸåï¼š

### 1. Serverless Functions æ•°é‡
- âœ… åªæœ‰ 1 ä¸ª Function: `api/index.js`
- âœ… ä¸ä¼šè¶…è¿‡ 12 ä¸ªé™åˆ¶

### 2. æ¨¡å—å¯ä»¥æ‰¾åˆ°
- âœ… `api/routes/menu.js` ç­‰æ–‡ä»¶è¢«æ­£ç¡®åŒ…å«
- âœ… ä¸ä¼šå‡ºç° "Cannot find module" é”™è¯¯

### 3. API æ­£å¸¸å·¥ä½œ
```
âœ… GET /api/health
âœ… GET /api/menus
âœ… GET /api/cards/:menuId
âœ… POST /api/login
```

---

## ğŸ“‹ éªŒè¯æ¸…å•

æ¨é€å¹¶éƒ¨ç½²å®Œæˆåï¼ˆçº¦ 1-2 åˆ†é’Ÿï¼‰ï¼Œè¯·éªŒè¯ï¼š

### 1. æ£€æŸ¥ Functions æ•°é‡
åœ¨ Vercel Dashboard â†’ Functions æ ‡ç­¾ï¼š
- [ ] åªæœ‰ 1 ä¸ª Function: `api/index.js`
- [ ] æ²¡æœ‰è¶…è¿‡é™åˆ¶çš„é”™è¯¯

### 2. å¥åº·æ£€æŸ¥
```bash
curl https://nav-vercel-jade.vercel.app/api/health
```
é¢„æœŸè¿”å›ï¼š
```json
{
  "status": "ok",
  "database": "initialized"
}
```

### 3. æµ‹è¯•èœå• API
```bash
curl https://nav-vercel-jade.vercel.app/api/menus
```
é¢„æœŸï¼šè¿”å›èœå•æ•°ç»„ï¼ˆå¯èƒ½ä¸ºç©º `[]`ï¼‰ï¼Œä¸åº”è¯¥æ˜¯ 500 é”™è¯¯

### 4. è®¿é—®ç½‘ç«™
- [ ] é¦–é¡µï¼šhttps://nav-vercel-jade.vercel.app/
- [ ] ç®¡ç†åå°ï¼šhttps://nav-vercel-jade.vercel.app/admin

---

## ğŸ› å¦‚æœè¿˜æœ‰é—®é¢˜

### æƒ…å†µ Aï¼šä»ç„¶è¶…è¿‡ 12 ä¸ª Functions
**å¯èƒ½åŸå› **ï¼š`vercel.json` é…ç½®æœªç”Ÿæ•ˆ

**è§£å†³æ–¹æ¡ˆ**ï¼š
1. æ£€æŸ¥ Vercel Dashboard â†’ Settings â†’ General
2. æŸ¥çœ‹ Framework Preset æ˜¯å¦æ­£ç¡®
3. æ‰‹åŠ¨åˆ é™¤æ—§çš„ Functions

### æƒ…å†µ Bï¼šä»ç„¶æ‰¾ä¸åˆ°æ¨¡å—
**å¯èƒ½åŸå› **ï¼š`includeFiles` è·¯å¾„ä¸æ­£ç¡®

**è§£å†³æ–¹æ¡ˆ**ï¼š
1. æŸ¥çœ‹ Vercel Functions æ—¥å¿—
2. ç¡®è®¤å“ªäº›æ–‡ä»¶è¢«åŒ…å«äº†
3. å¯èƒ½éœ€è¦ä½¿ç”¨ç»å¯¹è·¯å¾„

### æƒ…å†µ Cï¼šæ•°æ®åº“è¿æ¥å¤±è´¥
**åŸå› **ï¼šPostgres ç¯å¢ƒå˜é‡æœªè®¾ç½®

**è§£å†³æ–¹æ¡ˆ**ï¼š
1. Vercel Dashboard â†’ Storage â†’ Create Database â†’ Postgres
2. Connect Project è¿æ¥æ•°æ®åº“
3. æ·»åŠ  `JWT_SECRET` ç­‰ç¯å¢ƒå˜é‡
4. é‡æ–°éƒ¨ç½²

---

## ğŸ’¡ æŠ€æœ¯æ¶æ„

```
éƒ¨ç½²æ¶æ„ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Frontend (Static Files)            â”‚
â”‚  - HTML, CSS, JS                    â”‚
â”‚  - éƒ¨ç½²åˆ° Vercel CDN                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Serverless Function (1 ä¸ª)         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  api/index.js (ä¸»å…¥å£)        â”‚  â”‚
â”‚  â”‚    â”œâ”€ require('./routes/menu')â”‚  â”‚
â”‚  â”‚    â”œâ”€ require('./routes/card')â”‚  â”‚
â”‚  â”‚    â”œâ”€ require('./db')         â”‚  â”‚
â”‚  â”‚    â””â”€ require('./config')     â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Vercel Postgres                    â”‚
â”‚  - menus, sub_menus, cards         â”‚
â”‚  - users, ads, friends             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸŠ å®Œæˆï¼

æ¨é€æˆåŠŸåï¼Œé¡¹ç›®å°†æ‹¥æœ‰ï¼š
- âœ… çœŸæ­£çš„æ•°æ®æŒä¹…åŒ–ï¼ˆVercel Postgresï¼‰
- âœ… åªæœ‰ 1 ä¸ª Serverless Functionï¼ˆä¸è¶…é™åˆ¶ï¼‰
- âœ… æ‰€æœ‰ä¾èµ–æ–‡ä»¶æ­£ç¡®åŒ…å«ï¼ˆä¸ä¼šæ‰¾ä¸åˆ°æ¨¡å—ï¼‰
- âœ… å®Œæ•´çš„ API åŠŸèƒ½
- âœ… å“åº”å¼ Vue 3 å‰ç«¯

**è¯·æ¨é€ä»£ç å¹¶ç­‰å¾…éƒ¨ç½²å®Œæˆï¼** ğŸš€